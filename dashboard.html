<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | My English Tutor</title>
  <link rel="stylesheet" href="dashboard.css" />
</head>

<body>

  <!-- ========================= NAVBAR ========================= -->
  <header class="navbar">

    <!-- LOGO -->
    <div class="logo">My English Tutor</div>

    <!-- NAVIGATION LINKS -->
    <nav class="nav-links">
      <a href="#" class="active">Home</a>

      <!-- DROPDOWN MENU -->
      <div class="dropdown">
        <button class="dropbtn">Programs â–¼</button>

        <div class="dropdown-content">
          <a href="ielts.html">IELTS Prep</a>
          <a href="interview.html">Job Interview Prep</a>
          <a href="work_english.html">Professional English for Work</a>
        </div>
      </div>

      <a href="courses.html">Courses</a>
      <a href="reports.html">My Reports</a>
    </nav>

    <!-- USER PROFILE -->
    <div class="profile-section">

      <!-- Profile Circle + Name -->
      <div class="profile-wrapper">
        <img src="profile.png" class="profile-img" alt="Profile">
        <div class="profile-btn" id="usernameDisplay">User â–¼</div>
      </div>

      <!-- Profile Menu -->
      <div class="profile-menu" id="profileMenu">
        <a href="#">My Profile</a>
        <a href="#">Settings</a>
        <a href="#">Help</a>
        <a href="#" id="logoutBtn">Logout</a>
      </div>
    </div>

  </header>


  <!-- ========================= STATS SECTION ========================= -->
  <section class="stats-container">

    <!-- Learning Time -->
    <div class="stat-box">
      <div class="stat-icon">ğŸ“š</div>
      <div class="stat-title">Learning Time</div>
      <div class="stat-value">0 min</div>
    </div>

    <!-- Streak -->
    <div class="stat-box">
      <div class="stat-icon">ğŸ”¥</div>
      <div class="stat-title">Streak</div>
      <div class="stat-value">0 days</div>
    </div>

    <!-- Activity -->
    <div class="practice-activity">
      <h3 id="monthTitle">Your Practice Activity</h3>
      <div class="activity-grid"></div>
    </div>

  </section>


  <!-- ========================= COMMUNITY BENEFITS ========================= -->
  <section class="banner">

    <div class="banner-text">
      <h1>Benefits of Joining My Community</h1>
      <p>Grow your English confidence and fluency with a powerful support system.</p>

      <ul>
        <li>ğŸŒ Join a global English-speaking community</li>
        <li>ğŸ™ï¸ Daily speaking challenges to boost confidence</li>
        <li>ğŸ“… Weekly live sessions & practice groups</li>
        <li>ğŸ“ˆ Track your speaking progress every month</li>
        <li>ğŸ’¬ Personalized feedback from mentors</li>
        <li>ğŸ”’ Access exclusive lessons, tools & resources</li>
      </ul>

      <button class="start-btn">Start Learning</button>
    </div>

    <div class="banner-img">
      <img src="community.png" alt="Community">
    </div>

  </section>


  <!-- ========================= SCRIPT ========================= -->
  <script>

    /* ---------------- LOGIN CHECK ---------------- */
    const isLoggedIn = localStorage.getItem("isLoggedIn");
    const user = JSON.parse(localStorage.getItem("userData"));

    if (!isLoggedIn || !user) {
      window.location.href = "login.html";
    }

    document.getElementById("usernameDisplay").textContent = user.name + " â–¼";


    /* ---------------- PROFILE MENU ---------------- */
    const profileBtn = document.querySelector('.profile-btn');
    const profileMenu = document.querySelector('.profile-menu');

    profileBtn.addEventListener('click', () => {
      profileMenu.classList.toggle('show');
    });

    document.addEventListener('click', (event) => {
      if (!profileBtn.contains(event.target) && !profileMenu.contains(event.target)) {
        profileMenu.classList.remove('show');
      }
    });


    /* ---------------- LOGOUT ---------------- */
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("isLoggedIn");
      window.location.href = "login.html";
    });


    /* ---------------- ACTIVITY BOXES ---------------- */
    const months = [
      "January","February","March","April","May","June",
      "July","August","September","October","November","December"
    ];

    const today = new Date();
    const month = months[today.getMonth()];
    document.getElementById("monthTitle").textContent = month + " Activity";

    const grid = document.querySelector(".activity-grid");

    for (let i = 0; i < 35; i++) {
      let box = document.createElement("div");
      box.classList.add("activity-box");

      if (Math.random() > 0.7) {
        box.classList.add("completed");
        box.innerHTML = "âœ”";
      }

      grid.appendChild(box);
    }

  </script>

</body>
</html>
